"use strict";var HEADER_HEIGHT=64,GLOBAL_SPACING=64,CARD_WIDTH=190,CARD_HEIGHT=9*CARD_WIDTH/16,CARD_MARGIN=16,ACTIVE_CARD_MULTIPLIER=1.5,INITIAL_ACTIVE_CARD_POSITION=0,userScroll=!0;function getCardsWrap(){return document.querySelector(".cards")}function getCards(){return document.querySelectorAll(".card")}function getActiveCard(){return document.querySelector(".card.active")}function getCardById(e){return document.querySelector("#card-"+e)}function getCardByPosition(e){return getCards()[e]}function getCardId(e){return e.id.substr(5)}function getCardPosition(e){for(var t=0;t<getCards().length;t++)if(getCardId(getCardByPosition(t))==getCardId(e))return t;return-1}function setActiveCard(e){userScroll=!1,null!=getActiveCard()&&(document.querySelector("#background-"+getCardId(getActiveCard())).style.display="none",getActiveCard().classList.remove("active")),e.classList.add("active"),e.focus(),getCardsWrap().scroll(getCardPosition(e)*(CARD_WIDTH+CARD_MARGIN),0),document.querySelector("#background-"+getCardId(e)).style.display="block",console.log("New active : "+getCardPosition(getActiveCard()))}function decreaseActiveCard(){var e=getCardPosition(getActiveCard())-1;e<0&&(e=0),e!=getCardPosition(getActiveCard())&&setActiveCard(getCardByPosition(e))}function increaseActiveCard(){var e=getCardPosition(getActiveCard())+1;e>getCards().length-1&&(e=getCards().length-1),e!=getCardPosition(getActiveCard())&&setActiveCard(getCardByPosition(e))}function getPresentationDataById(e){return null}function init(){var e=document.querySelector("body"),s=document.querySelector("main"),t=getCards(),u=document.createElement("div");u.classList.add("backgrounds"),e.append(u),t.forEach(function(e,t){var r=document.createElement("div");r.id="background-"+getCardId(e),r.classList.add("background"),t!=INITIAL_ACTIVE_CARD_POSITION&&(r.style.display="none"),u.append(r);var a=document.createElement("img");a.classList.add("lazyload"),a.setAttribute("data-src","https://mediator.profuder.com/images/backdrops/originals/"+getCardId(e)+".webp"),a.setAttribute("width","1920"),a.setAttribute("height","1080"),a.setAttribute("loading","lazy"),a.setAttribute("alt",""),r.append(a);var n,d,i,o,c=getPresentationDataById(e.id.substr(5));null!=c&&((n=document.createElement("div")).classList.add("presentation"),n.style.display="none",s.append(n),(d=document.createElement("h1")).innerText=c.title,n.append(d),(i=document.createElement("h2")).innerText=c.info,n.append(i),(o=document.createElement("p")).innerText=c.description,n.append(o))}),setActiveCard(getCardByPosition(INITIAL_ACTIVE_CARD_POSITION))}function handler(){var e;document.addEventListener("keydown",function(e){switch(e.code){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),decreaseActiveCard();break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),increaseActiveCard()}}),getCardsWrap().addEventListener("scroll",function(){window.clearTimeout(e),e=setTimeout(function(){var e;userScroll?(e=getCardsWrap().scrollLeft/(CARD_WIDTH+CARD_MARGIN))!=getCardPosition(getActiveCard())&&setActiveCard(getCardByPosition(Math.round(e))):userScroll=!0},100)}),getCards().forEach(function(e){e.addEventListener("click",function(){e!=getActiveCard()&&setActiveCard(e)}),e.addEventListener("focus",function(){e!=getActiveCard()&&setActiveCard(e)})})}document.addEventListener("DOMContentLoaded",function(){init(),handler()});